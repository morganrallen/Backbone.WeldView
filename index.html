<html>
	<head>
		<script src="lib/jquery-1.4.4.js" type="text/javascript"></script>
		<script src="lib/underscore.js" type="text/javascript"></script>
		<script src="lib/backbone.js" type="text/javascript"></script>
		<script src="lib/json2.js" type="text/javascript"></script>
		<script src="lib/weld.js" type="text/javascript"></script>
		<script src="src/WeldView.js" type="text/javascript"></script>
		<style>
			.templates { display: none; }
		</style>
	</head>
	<body>
		<div id="templates" class="templates">
			<div class="futuramer">
				<div class="name"></div>
				<div class="occupation"></div>
				<div class="hobby"></div>
			</div>
		</div>
		<div class="body">
			
		</div>
		<script>
			var FuturaView = Backbone.WeldView.extend({
				className: "futuramer",
				container: $(".body")[0],
				tplEl: $("#templates .futuramer")[0]
			});

			var FuturaModel = Backbone.Model.extend({
				initialize: function(options) {
					this.view = new this.view({
						model: this
					});
				},
				view: FuturaView
			});

			var FuturaCollection = Backbone.Collection.extend({
				model: FuturaModel
			});

			var c = new FuturaCollection();

			Backbone.sync=function(){};

			c.add([{
				name: "Philip J. Fry",
				occupation: "Delivery Boy",
				hobby: "Scratching armpits"
			}]);

			var fry = c.at(0);
			fry.set({
				hobby: "Drinking",
				name: "Fry"
			});
		</script>	
	</body>
</html>
